<div class="container">
  <h2 class="heading">Add Chapters for {{ selectedBook?.name }}</h2>

  <p-button label="New Chapter" icon="pi pi-plus" (click)="openNew()" class="p-button-primary"></p-button>

  <p-table [value]="chapters" class="styled-table">
      <ng-template pTemplate="header">
          <tr>
              <th>Chapter Number</th>
              <th>Name</th>
              <th>Description</th>
              <th>Actions</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-chapter>
          <tr>
              <td>{{ chapter.number }}</td>
              <td>{{ chapter.name }}</td>
              <td>{{ chapter.description }}</td>
              <td class="action-buttons">
                  <p-button icon="pi pi-pencil" (click)="editChapter(chapter); $event.stopPropagation()" class="p-button-secondary"></p-button>
                  <p-button icon="pi pi-trash" (click)="deleteChapter(chapter); $event.stopPropagation()" class="p-button-danger"></p-button>
                  <p-button icon="pi pi-eye" label="View" (click)="viewChapter(chapter)" class="p-button-info"></p-button>

                </td>
          </tr>
      </ng-template>
  </p-table>
</div>

<p-dialog [(visible)]="chapterDialog" [modal]="true" class="styled-dialog">
  <ng-template pTemplate="header">
      <h3 class="form-title">{{ isEditMode ? 'Edit Chapter' : 'Add New Chapter' }}</h3>
  </ng-template>
  <ng-template pTemplate="content">
      <div class="form-container">
          <div class="form-group">
              <h5>Chapter Number</h5>
              <input type="number" pInputText [(ngModel)]="chapterForm.number" placeholder="Enter Chapter Number" class="full-width">
          </div>
          <div class="form-group">
              <h5>Name</h5>
              <input type="text" pInputText [(ngModel)]="chapterForm.name" placeholder="Enter Chapter Name" class="full-width">
          </div>
          <div class="form-group">
              <h5>Description</h5>
              <textarea pInputTextarea [(ngModel)]="chapterForm.description" placeholder="Enter Chapter Description" class="full-width textarea"></textarea>
          </div>
      </div>
  </ng-template>
  <ng-template pTemplate="footer">
      <div class="form-footer">
          <p-button label="Save" icon="pi pi-check" (click)="saveChapter()" class="p-button-primary"></p-button>
          <p-button label="Cancel" icon="pi pi-times" (click)="chapterDialog = false" class="p-button-secondary"></p-button>
      </div>
  </ng-template>
</p-dialog>
